-- ASSIGNMENT 2 (Corrected)

-- A) Member Table
CREATE TABLE MEMBER_1151(
    MEMBER_ID NUMBER(5) PRIMARY KEY,
    MEMBER_NAME VARCHAR2(30) NOT NULL,
    MEMBER_ADDRESS VARCHAR2(50),
    ACC_OPEN_DATE DATE,
    MEMBERSHIP_TYPE VARCHAR2(30) CHECK(MEMBERSHIP_TYPE IN('LIFETIME', 'ANNUAL', 'HALF_YEARLY', 'QUATERLY')),
    FEES_PAID NUMBER(4),
    MAX_BOOKS_ALLOWED NUMBER(2) CHECK(MAX_BOOKS_ALLOWED < 7),
    PENALTY_AMOUNT NUMBER(7,2) CHECK (PENALTY_AMOUNT <= 1000)
);

-- B) Books Table
CREATE TABLE BOOKS_1151(
    BOOK_NO NUMBER(6) PRIMARY KEY,
    BOOK_NAME VARCHAR2(30) NOT NULL,
    AUTHOR_NAME VARCHAR2(30),
    COST NUMBER(7,2),
    CATEGORY VARCHAR2(10) CHECK(CATEGORY IN('SCIENCE', 'DATABASE', 'SYSTEM', 'OTHERS'))
);

-- C) Issue Table
CREATE TABLE ISSUE_1151(
    LIB_ISSUE_ID NUMBER(10) PRIMARY KEY,
    BOOK_NO NUMBER(6) REFERENCES BOOKS_1151(BOOK_NO),
    MEMBER_ID NUMBER(5) REFERENCES MEMBER_1151(MEMBER_ID),
    ISSUE_DATE DATE,
    RETURN_DATE DATE
);

-- Inserting Data (Corrected Date Formats)
INSERT INTO MEMBER_1151 VALUES(1,'SAYANTAN SINHA', 'PUNE', '10-DEC-10', 'LIFETIME', 2000, 6, 50);
INSERT INTO MEMBER_1151 VALUES(2,'ABHIRUP SARKAR', 'KOLKATA', '19-JAN-11', 'ANNUAL', 1400, 3, 0);
INSERT INTO MEMBER_1151 VALUES(3,'RITESH BHUNIYA', 'GUJRAT', '20-FEB-11', 'QUATERLY', 350, 2, 100);
INSERT INTO MEMBER_1151 VALUES(4,'PARESH SEN', 'TRIPURA', '21-MAR-11', 'HALF_YEARLY', 700, 1, 200);
INSERT INTO MEMBER_1151 VALUES(5,'SOHINI HALDAR', 'BIRBHUM', '11-APR-11', 'LIFETIME', 2000, 6, 10);
INSERT INTO MEMBER_1151 VALUES(6,'SUPARNA BISWAS', 'KOLKATA', '12-APR-11', 'HALF_YEARLY', 700, 1, 0);
INSERT INTO MEMBER_1151 VALUES(7,'SURANJAN BASU', 'PURULIA', '30-JUN-11', 'ANNUAL', 1400, 3, 50);
INSERT INTO MEMBER_1151 VALUES(8,'ARPITA ROY', 'KOLKATA', '31-JUL-11', 'HALF_YEARLY', 700, 1, 0);

INSERT INTO BOOKS_1151 VALUES(101, 'LET US C', 'DENIS RITCHIE', 450, 'OTHERS');
INSERT INTO BOOKS_1151 VALUES(102, 'ORACLE COMPLETE REF', 'LONI', 550, 'DATABASE');
INSERT INTO BOOKS_1151 VALUES(103, 'VISUAL BASIC 10', 'BPB', 700, 'OTHERS');
INSERT INTO BOOKS_1151 VALUES(104, 'MASTERING SQL', 'LONI', 450, 'DATABASE');
INSERT INTO BOOKS_1151 VALUES(105, 'PL-SQL REF', 'SCOTT URMAN', 750, 'DATABASE');
INSERT INTO BOOKS_1151 VALUES(106, 'UNIX', 'SUMITAVA DAS', 300, 'SYSTEM');
INSERT INTO BOOKS_1151 VALUES(107, 'OPTICS', 'GHATAK', 600, 'SCIENCE');
INSERT INTO BOOKS_1151 VALUES(108, 'DATA STRUCTURE', 'G.S.BALUJA', 350, 'OTHERS');

INSERT INTO ISSUE_1151 VALUES(7001, 101, 1, '10-JAN-11', NULL);
INSERT INTO ISSUE_1151 VALUES(7002, 102, 2, '25-JAN-11', NULL);
INSERT INTO ISSUE_1151 VALUES(7003, 104, 1, '01-FEB-11', NULL);
INSERT INTO ISSUE_1151 VALUES(7004, 104, 2, '15-MAR-11', NULL);
INSERT INTO ISSUE_1151 VALUES(7005, 101, 4, '04-APR-11', NULL);
INSERT INTO ISSUE_1151 VALUES(7006, 108, 5, '12-APR-11', NULL);
INSERT INTO ISSUE_1151 VALUES(7007, 101, 8, '01-AUG-11', NULL);
